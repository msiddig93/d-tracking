import{a,_ as T}from"./Pagination-BUdek4CB.js";import{_ as k}from"./Modal-DX8RbJ_c.js";import{y as v,s as G,l as x,c as u,o as d,b as e,a as $,w as C,F as y,p as D,u as n,j as M,f as h,t as i,z as A,d as j}from"./app-DMhsOrxy.js";const g="/glucose-tests",f={async getAll(t=1){try{return(await a.get(`${g}?page=${t}`)).data}catch(s){throw s}},async getGlucoseTestsList(){try{return(await a.get(`${g}/list`)).data}catch(t){throw t}},get(t){return a.get(`/${g}/${t}`)},async create(t){try{return(await a.post(`${g}`,t)).data}catch(s){throw s}},update(t,s){return a.put(`/glucoseTests/${t}`,s)},delete(t){return a.delete(`/glucoseTests/${t}`)}},S=v("glucoseTests",{state:()=>({glucoseTests:{},currentGlucoseTest:{},loading:!1,error:null,showAddGlucoseTestModal:!1}),actions:{async fetchGlucoseTests(t=1){try{this.loading=!0,this.glucoseTests=await f.getAll(t),this.loading=!1}catch(s){throw this.loading=!1,s}},setCurrentGlucoseTest(t){this.currentGlucoseTest=t},async createGlucoseTest(t){try{await f.create(this.currentGlucoseTest)}catch(s){throw s}},setGlucoseTests(t){this.glucoseTests=t},clearGlucoseTests(){this.glucoseTests=[]},toggleGlucoseTestModal(){this.showAddGlucoseTestModal=!this.showAddGlucoseTestModal}}}),P={class:"w-full overflow-x-auto inline-block min-w-full rounded-lg shadow"},B={class:"p-6 text-center"},L={class:"flex justify-center gap-4 mt-4"},N={class:"w-full whitespace-no-wrap"},V={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},z={class:"text-gray-900 whitespace-no-wrap"},F={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},O={class:"text-gray-900 whitespace-no-wrap"},R={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},E={class:"text-gray-900 whitespace-no-wrap"},U={class:"border-b bg-white border-gray-200 px-2 py-2 text-sm"},W={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},q={class:"text-gray-900 whitespace-no-wrap"},H={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},I={class:"flex justify-end gap-2"},J=["onClick"],K={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between overflow-x-auto"},Q={__name:"GlucoseTestTable",setup(t){const s=S(),{glucoseTests:c}=G(s),l=x(!1),w=x(null);function m(p){w.value=p,l.value=!0}function _(){l.value=!1}return(p,r)=>(d(),u(y,null,[e("div",P,[$(k,{show:l.value,maxWidth:"sm",onClose:r[1]||(r[1]=o=>l.value=!1)},{default:C(()=>[e("div",B,[r[2]||(r[2]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-2"},"Delete Glucose Test",-1)),r[3]||(r[3]=e("p",{class:"text-gray-600 mb-6"},"Are you sure you want to delete this test? This action cannot be undone.",-1)),e("div",L,[e("button",{class:"px-4 py-2 rounded bg-red-600 text-white font-semibold hover:bg-red-700 transition",onClick:_}," Confirm "),e("button",{class:"px-4 py-2 rounded bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition",onClick:r[0]||(r[0]=o=>l.value=!1)}," Cancel ")])])]),_:1},8,["show"]),e("table",N,[r[6]||(r[6]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," - "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Patient "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Level "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fasting "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Date "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," - ")])],-1)),e("tbody",null,[(d(!0),u(y,null,D(n(c).data,o=>{var b;return d(),u("tr",{key:o.id,class:"text-gray-700"},[e("td",V,[e("p",z,i(o.id),1)]),e("td",F,[e("p",O,i(((b=o.patient)==null?void 0:b.name)??"N/A"),1)]),e("td",R,[e("p",E,i(o.level),1)]),e("td",U,[e("span",{style:A(`background-color: ${o.status_colors[0]}; color: ${o.status_colors[1]}`),class:"whitespace-no-wrap p-2 rounded-full"},i(o.fasting),5)]),e("td",W,[e("p",q,i(o.test_date),1)]),e("td",H,[e("div",I,[h("",!0),e("button",{class:"flex items-center gap-1 rounded-full bg-red-100 text-red-700 px-3 py-1 text-xs font-semibold hover:bg-red-200 transition",title:"Delete",onClick:X=>m(o)},r[5]||(r[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),j(" Delete ")]),8,J)])])])}),128))])])]),e("div",K,[n(c).meta&&n(c).meta.links.length?(d(),M(T,{key:0,links:n(c).meta.links,onPaginationChangePage:n(s).fetchGlucoseTests},null,8,["links","onPaginationChangePage"])):h("",!0)])],64))}},te=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{te as G,Q as _,S as u};
