import{s as k,l as w,c as i,o as a,a as d,u as s,g as V,w as g,b as t,d as v,e as S,i as c,f as b,m as x,t as m,F as h,p as B,q as j,n as p}from"./app-DMhsOrxy.js";import{_ as N}from"./AuthenticatedLayout-C7JdTxG7.js";import{S as H}from"./SkeletonTable-D2NOxdgt.js";import{u as L}from"./patients-HOPaV6IJ.js";import{u as D,_ as U}from"./GlucoseTestTable-Bby7YfWy.js";import{_ as $}from"./Modal-DX8RbJ_c.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Pagination-BUdek4CB.js";const A={class:"p-6"},F={class:"mb-4"},P={key:0,class:"text-red-500 text-xs mt-1"},Z={class:"mb-4"},z=["value"],q={key:0,class:"text-red-500 text-xs mt-1"},E={class:"mb-4"},I={key:0,class:"text-red-500 text-xs mt-1"},R={class:"mb-4"},W={key:0,class:"text-red-500 text-xs mt-1"},J={class:"mb-6 flex items-center gap-2"},K={class:"flex justify-center gap-4 mt-6"},O=["disabled"],Q={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},X={key:1,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ue={__name:"Index",setup(Y){const y=L();y.fetchPatientsList();const{patientsList:T}=k(y),n=D();n.fetchGlucoseTests();const{loading:_,currentGlucoseTest:l,showAddGlucoseTestModal:G}=k(n);w(!1);const r=w({}),u=w(!1);async function C(){try{r.value={},await n.createGlucoseTest(),n.fetchGlucoseTests(),n.toggleGlucoseTestModal()}catch(f){n.toggleGlucoseTestModal(),f.responses&&f.responses.status===422&&(r.value=f.responses.data.errors)}}function M(){n.setCurrentGlucoseTest({name:"",patient_id:null,test_date:"",notes:"",level:100,is_fasting:!0}),r.value={},n.toggleGlucoseTestModal()}return(f,e)=>(a(),i(h,null,[d(s(V),{title:"GlucoseTests"}),d(N,null,{header:g(()=>e[6]||(e[6]=[v(" Glucose Tests ")])),default:g(()=>[t("div",{class:"mb-4 inline-flex w-full overflow-hidden rounded-lg bg-white shadow-md"},[e[9]||(e[9]=t("div",{class:"flex w-12 items-center justify-center bg-blue-500"},[t("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])],-1)),t("div",{class:"mx-0 px-4 py-2 w-full"},[t("div",{class:"mx-3 w-full flex items-center justify-between"},[e[8]||(e[8]=t("span",{class:"font-semibold text-blue-500 hidden lg:inline-block"}," Glucose Tests List ",-1)),t("button",{class:"flex items-center gap-2 ml-auto rounded-full bg-blue-600 text-white px-4 py-2 font-semibold shadow hover:bg-blue-700 transition",onClick:M},e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),v(" Add Glucose Test ")]))])])]),d(H,{loading:s(_),columns:4,rows:5},{default:g(()=>[d(U)]),_:1},8,["loading"]),d($,{show:s(G),closeable:!u.value,maxWidth:"sm",onClose:s(n).toggleGlucoseTestModal},{default:g(()=>[t("div",A,[e[19]||(e[19]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Add New GlucoseTest",-1)),t("form",{onSubmit:S(C,["prevent"])},[t("div",F,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Level",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s(l).level=o),type:"text",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[x,s(l).level]]),r.value.level?(a(),i("div",P,m(r.value.level),1)):b("",!0)]),t("div",Z,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Patient",-1)),c(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(l).patient_id=o),class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},[(a(!0),i(h,null,B(s(T),o=>(a(),i("option",{key:o.id,value:o.id},m(o.name),9,z))),128))],512),[[j,s(l).patient_id]]),r.value.patient_id?(a(),i("div",q,m(r.value.patient_id),1)):b("",!0)]),t("div",E,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Test Date",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s(l).test_date=o),type:"datetime-local",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[x,s(l).test_date]]),r.value.test_date?(a(),i("div",I,m(r.value.test_date),1)):b("",!0)]),t("div",R,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),c(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>s(l).notes=o),rows:"2",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[x,s(l).notes]]),r.value.notes?(a(),i("div",W,m(r.value.notes),1)):b("",!0)]),t("div",J,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Fasting",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=o=>s(l).is_fasting=!s(l).is_fasting),class:p([s(l).is_fasting?"bg-green-500":"bg-gray-300","relative inline-flex h-6 w-11 items-center rounded-full transition"])},[t("span",{class:p([s(l).is_fasting?"translate-x-6 bg-white":"translate-x-1 bg-white","inline-block h-4 w-4 transform rounded-full transition"])},null,2)],2)]),t("div",K,[t("button",{disabled:u.value,class:p([{"bg-blue-400 hover:bg-blue-400 cursor-not-allowed w-full justify-center":u.value},"flex items-center gap-2 rounded-full bg-blue-600 text-white px-4 py-2 font-semibold shadow hover:bg-blue-700 transition"]),type:"submit"},[e[17]||(e[17]=t("span",{class:"mx-4"},"Send Data",-1)),u.value?(a(),i("svg",X,e[16]||(e[16]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):(a(),i("svg",Q,e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 01-8 0m8 0a4 4 0 01-8 0m8 0V5a4 4 0 00-8 0v2m8 0v2a4 4 0 01-8 0V7"},null,-1)])))],10,O),t("button",{class:p([{"bg-gray-200 hover:bg-gray-200 cursor-not-allowed hidden":u.value},"flex items-center gap-2 rounded-full bg-gray-200 text-gray-700 px-4 py-2 font-semibold shadow hover:bg-gray-300 transition"]),type:"button",onClick:e[5]||(e[5]=(...o)=>s(n).toggleGlucoseTestModal&&s(n).toggleGlucoseTestModal(...o))},e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),v(" Cancel ")]),2)])],32)])]),_:1},8,["show","closeable","onClose"])]),_:1})],64))}};export{ue as default};
