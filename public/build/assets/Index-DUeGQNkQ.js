import{s as x,l as b,c as a,o as i,a as m,u as o,g as _,w as g,b as t,d as c,t as w,e as V,i as v,f as y,m as h,n as f,F as B}from"./app-CKurRQd2.js";import{_ as N}from"./AuthenticatedLayout-DbwocjE1.js";import{S}from"./SkeletonTable-DFuHrh9A.js";import{u as j}from"./patients-BtIlrXqD.js";import{u as H,_ as A}from"./DoctorTable-CU2f8Nhq.js";import{_ as L}from"./Modal-CJ7zQf7a.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Pagination-CiiZmsGS.js";const T={class:"p-6"},$={class:"text-xl font-bold text-gray-800 mb-4 text-center"},Z={class:"mb-4"},z={key:0,class:"text-red-500 text-xs mt-1"},E={class:"mb-4"},F={key:0,class:"text-red-500 text-xs mt-1"},I={class:"mb-6 flex items-center gap-2"},P={key:0,class:"block text-sm font-medium text-gray-700 mb-1"},U={key:1,class:"block text-sm font-medium text-gray-700 mb-1"},R={class:"flex justify-center gap-4 mt-6"},W={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},q={key:1,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},lt={__name:"Index",setup(G){const p=j();p.fetchPatientsList();const{patientsList:J}=x(p),s=H();s.fetchDoctors();const{loading:k,currentDoctor:l,showAddDoctorModal:D}=x(s);b(!1);const r=b({}),n=b(!1);async function C(){try{r.value={},n.value=!0,await s.createDoctor(),s.fetchDoctors(),s.toggleDoctorModal(),n.value=!1}catch(u){n.value=!1,console.log(u.response),u.response&&u.response.status===422?r.value=u.response.data.errors:s.toggleDoctorModal()}}function M(){s.setCurrentDoctor({id:0,title:"Add New Doctor",name:"",email:"",role:"doctor"}),r.value={},s.toggleDoctorModal()}return(u,e)=>(i(),a(B,null,[m(o(_),{title:"Doctors"}),m(N,null,{header:g(()=>e[4]||(e[4]=[c(" Doctors ")])),default:g(()=>[t("div",{class:"mb-4 inline-flex w-full overflow-hidden rounded-lg bg-white shadow-md"},[e[7]||(e[7]=t("div",{class:"flex w-12 items-center justify-center bg-blue-500"},[t("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])],-1)),t("div",{class:"mx-0 px-4 py-2 w-full"},[t("div",{class:"mx-3 w-full flex items-center justify-between"},[e[6]||(e[6]=t("span",{class:"font-semibold text-blue-500"},[t("span",{class:"hidden lg:inline-block"},"Doctors List")],-1)),t("button",{class:"flex items-center gap-2 rounded-full bg-blue-600 text-white px-4 py-2 font-semibold shadow hover:bg-blue-700 transition",onClick:M},e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Add "),t("span",null,"Doctor",-1)]))])])]),m(S,{loading:o(k),columns:4,rows:5},{default:g(()=>[m(A)]),_:1},8,["loading"]),m(L,{show:o(D),closeable:!n.value,maxWidth:"sm",onClose:o(s).toggleDoctorModal},{default:g(()=>[t("div",T,[t("h2",$,w(o(l).title),1),t("form",{onSubmit:V(C,["prevent"])},[t("div",Z,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>o(l).name=d),type:"text",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[h,o(l).name]]),r.value.name?(i(),a("div",z,w(r.value.name[0]),1)):y("",!0)]),t("div",E,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>o(l).email=d),type:"email",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[h,o(l).email]]),r.value.email?(i(),a("div",F,w(r.value.email[0]),1)):y("",!0)]),t("div",I,[o(l).role=="admin"?(i(),a("label",P,"Admin")):(i(),a("label",U,"Doctor")),t("button",{type:"button",onClick:e[2]||(e[2]=d=>o(l).role=o(l).role=="admin"?"doctor":"admin"),class:f([o(l).role!="any"?"bg-green-500":"bg-gray-300","relative inline-flex h-6 w-11 items-center rounded-full transition"])},[t("span",{class:f([o(l).role=="admin"?"translate-x-6 bg-white":"translate-x-1 bg-white","inline-block h-4 w-4 transform rounded-full transition"])},null,2)],2)]),e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 mb-4"},[c(" Note: If you want to login the password, is going to be "),t("strong",{class:"text-dark font-weight-bold"},'"password"'),c(" by default, after login you can change it form your profile. ")],-1)),t("div",R,[t("button",{type:"submit",class:f([{"bg-blue-400 hover:bg-blue-400 cursor-not-allowed w-full justify-center":n.value},"flex items-center gap-2 rounded-full bg-blue-600 text-white px-4 py-2 font-semibold shadow hover:bg-blue-700 transition"])},[e[12]||(e[12]=t("span",{class:"mx-4"},"Send Data",-1)),n.value?(i(),a("svg",q,e[11]||(e[11]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):(i(),a("svg",W,e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 01-8 0m8 0a4 4 0 01-8 0m8 0V5a4 4 0 00-8 0v2m8 0v2a4 4 0 01-8 0V7"},null,-1)])))],2),t("button",{class:f([{"bg-gray-200 hover:bg-gray-200 cursor-not-allowed hidden":n.value},"flex items-center gap-2 rounded-full bg-gray-200 text-gray-700 px-4 py-2 font-semibold shadow hover:bg-gray-300 transition"]),type:"button",onClick:e[3]||(e[3]=(...d)=>o(s).toggleDoctorModal&&o(s).toggleDoctorModal(...d))},e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),c(" Cancel ")]),2)])],32)])]),_:1},8,["show","closeable","onClose"])]),_:1})],64))}};export{lt as default};
