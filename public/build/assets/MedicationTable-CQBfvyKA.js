import{_ as k}from"./Pagination-p4WqIyCX.js";import{_ as M}from"./Modal-7nK1K5lg.js";import{y as v,s as C,l as x,c as b,o as g,a as $,b as t,w as j,F as D,p as P,u as l,j as S,f as T,t as d,z as A,d as u}from"./app-B87o3R-x.js";import{a}from"./BaseService-2hAdAtii.js";const p="/medications",y={async getAll(e=1){try{return(await a.get(`${p}?page=${e}`)).data}catch(s){throw s}},async getMedicationsList(){try{return(await a.get(`${p}/list`)).data}catch(e){throw e}},get(e){return a.get(`/${p}/${e}`)},async create(e){try{return(await a.post(`${p}`,e)).data}catch(s){throw s}},update(e,s){return a.put(`/medications/${e}`,s)},delete(e){return a.delete(`/medications/${e}`)}},B=v("medications",{state:()=>({medications:{},currentMedication:{},loading:!1,error:null,showAddMedicationModal:!1}),actions:{async fetchMedications(e=1){try{this.loading=!0,this.medications=await y.getAll(e),this.loading=!1}catch(s){throw this.loading=!1,s}},setCurrentMedication(e){this.currentMedication=e},async createMedication(e){try{await y.create(this.currentMedication)}catch(s){throw s}},setMedications(e){this.medications=e},clearMedications(){this.medications=[]},toggleMedicationModal(){this.showAddMedicationModal=!this.showAddMedicationModal}}}),N={class:"inline-block min-w-full overflow-hidden rounded-lg shadow"},E={class:"p-6 text-center"},L={class:"flex justify-center gap-4 mt-4"},V={class:"w-full whitespace-no-wrap"},z={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},F={class:"text-gray-900 whitespace-no-wrap"},O={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},R={class:"text-gray-900 whitespace-no-wrap"},U={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},W={class:"text-gray-900 whitespace-no-wrap"},q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},G={class:"text-gray-900 whitespace-no-wrap"},H={class:"border-b bg-white border-gray-200 px-2 py-2 text-sm"},I={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},J={class:"flex justify-end gap-2"},K=["onClick"],Q=["onClick"],X={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},Y={__name:"MedicationTable",setup(e){const s=B(),{medications:c}=C(s),n=x(!1),h=x(null);function w(i){h.value=i,n.value=!0}const f=i=>{console.log(i),s.setCurrentMedication(i),s.toggleMedicationModal()};function m(){n.value=!1}return(i,o)=>(g(),b("div",N,[$(M,{show:n.value,maxWidth:"sm",onClose:o[1]||(o[1]=r=>n.value=!1)},{default:j(()=>[t("div",E,[o[2]||(o[2]=t("h2",{class:"text-lg font-semibold text-gray-800 mb-2"},"Delete Patient",-1)),o[3]||(o[3]=t("p",{class:"text-gray-600 mb-6"},"Are you sure you want to delete this medication? This action cannot be undone.",-1)),t("div",L,[t("button",{class:"px-4 py-2 rounded bg-red-600 text-white font-semibold hover:bg-red-700 transition",onClick:m}," Confirm "),t("button",{class:"px-4 py-2 rounded bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition",onClick:o[0]||(o[0]=r=>n.value=!1)}," Cancel ")])])]),_:1},8,["show"]),t("table",V,[o[6]||(o[6]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," id "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Name "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Patient "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Time "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Status "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," - ")])],-1)),t("tbody",null,[(g(!0),b(D,null,P(l(c).data,r=>(g(),b("tr",{key:r.id,class:"text-gray-700"},[t("td",z,[t("p",F,d(r.id),1)]),t("td",O,[t("p",R,d(r.name),1)]),t("td",U,[t("p",W,d(r.patient.name),1)]),t("td",q,[t("p",G,d(r.reminder_time),1)]),t("td",H,[t("span",{style:A(`background-color: ${r.status_colors[0]}; color: ${r.status_colors[1]}`),class:"whitespace-no-wrap p-2 rounded-full"},d(r.status),5)]),t("td",I,[t("div",J,[t("button",{class:"flex items-center gap-1 rounded-full bg-yellow-100 text-yellow-700 px-3 py-1 text-xs font-semibold hover:bg-yellow-200 transition",title:"Edit",onClick:_=>f(r)},o[4]||(o[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5h2m-1 0v14m-7-7h14"})],-1),u(" Edit ")]),8,K),t("button",{class:"flex items-center gap-1 rounded-full bg-red-100 text-red-700 px-3 py-1 text-xs font-semibold hover:bg-red-200 transition",title:"Delete",onClick:_=>w(r)},o[5]||(o[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),u(" Delete ")]),8,Q)])])]))),128))])]),t("div",X,[l(c).meta&&l(c).meta.links.length?(g(),S(k,{key:0,links:l(c).meta.links,onPaginationChangePage:l(s).fetchPatients},null,8,["links","onPaginationChangePage"])):T("",!0)])]))}},ot=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{ot as M,Y as _,B as u};
