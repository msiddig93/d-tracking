import{s as v,l as p,c as a,o as r,a as d,u as s,g as S,w as c,b as e,d as f,e as N,i as g,f as b,m as x,t as u,F as y,p as B,q as j,n as M}from"./app-DMhsOrxy.js";import{_ as H}from"./AuthenticatedLayout-C7JdTxG7.js";import{S as L}from"./SkeletonTable-D2NOxdgt.js";import{u as T}from"./patients-HOPaV6IJ.js";import{u as A,_ as U}from"./MedicationTable-Cpsybrzt.js";import{_ as $}from"./Modal-DX8RbJ_c.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Pagination-BUdek4CB.js";const D={class:"p-6"},P={class:"mb-4"},Z={key:0,class:"text-red-500 text-xs mt-1"},F={class:"mb-4"},R=["value"],q={key:0,class:"text-red-500 text-xs mt-1"},z={class:"mb-4"},E={key:0,class:"text-red-500 text-xs mt-1"},I={class:"mb-4"},W={key:0,class:"text-red-500 text-xs mt-1"},G={class:"mb-6 flex items-center gap-2"},J={class:"flex justify-center gap-4 mt-6"},ne={__name:"Index",setup(K){const w=T();w.fetchPatientsList();const{patientsList:k}=v(w),n=A();n.fetchMedications();const{loading:_,currentMedication:i,showAddMedicationModal:h}=v(n);p(!1);const l=p({});p(!1);async function C(){try{l.value={},await n.createMedication(),n.fetchMedications(),n.toggleMedicationModal()}catch(m){n.toggleMedicationModal(),m.responses&&m.responses.status===422&&(l.value=m.responses.data.errors)}}function V(){n.setCurrentMedication({name:"",patient_id:null,reminder_time:"",notes:"",is_active:!0}),l.value={},n.toggleMedicationModal()}return(m,t)=>(r(),a(y,null,[d(s(S),{title:"Medications"}),d(H,null,{header:c(()=>t[6]||(t[6]=[f(" Medications ")])),default:c(()=>[e("div",{class:"mb-4 inline-flex w-full overflow-hidden rounded-lg bg-white shadow-md"},[t[9]||(t[9]=e("div",{class:"flex w-12 items-center justify-center bg-blue-500"},[e("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])],-1)),e("div",{class:"mx-0 px-4 py-2 w-full"},[e("div",{class:"mx-3 w-full flex items-center justify-between"},[t[8]||(t[8]=e("span",{class:"font-semibold text-blue-500"},[e("span",{class:"hidden lg:inline-block"},"Medications List")],-1)),e("button",{class:"flex items-center gap-2 rounded-full bg-blue-600 text-white px-4 py-2 font-semibold shadow hover:bg-blue-700 transition",onClick:V},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),f(" Add "),e("span",null,"Medication",-1)]))])])]),d(L,{loading:s(_),columns:4,rows:5},{default:c(()=>[d(U)]),_:1},8,["loading"]),d($,{show:s(h),maxWidth:"sm",onClose:s(n).toggleMedicationModal},{default:c(()=>[e("div",D,[t[17]||(t[17]=e("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Add New Medication",-1)),e("form",{onSubmit:N(C,["prevent"])},[e("div",P,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(i).name=o),type:"text",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[x,s(i).name]]),l.value.name?(r(),a("div",Z,u(l.value.name),1)):b("",!0)]),e("div",F,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Patient",-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(i).patient_id=o),class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},[(r(!0),a(y,null,B(s(k),o=>(r(),a("option",{key:o.id,value:o.id},u(o.name),9,R))),128))],512),[[j,s(i).patient_id]]),l.value.patient_id?(r(),a("div",q,u(l.value.patient_id),1)):b("",!0)]),e("div",z,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reminder Time",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(i).reminder_time=o),type:"time",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[x,s(i).reminder_time]]),l.value.reminder_time?(r(),a("div",E,u(l.value.reminder_time),1)):b("",!0)]),e("div",I,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),g(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(i).notes=o),rows:"2",class:"w-full rounded border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[x,s(i).notes]]),l.value.notes?(r(),a("div",W,u(l.value.notes),1)):b("",!0)]),e("div",G,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Active",-1)),e("button",{type:"button",onClick:t[4]||(t[4]=o=>s(i).is_active=!s(i).is_active),class:M([s(i).is_active?"bg-green-500":"bg-gray-300","relative inline-flex h-6 w-11 items-center rounded-full transition"])},[e("span",{class:M([s(i).is_active?"translate-x-6 bg-white":"translate-x-1 bg-white","inline-block h-4 w-4 transform rounded-full transition"])},null,2)],2)]),e("div",J,[t[16]||(t[16]=e("button",{type:"submit",class:"flex items-center gap-2 rounded-full bg-blue-600 text-white px-4 py-2 font-semibold shadow hover:bg-blue-700 transition"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 01-8 0m8 0a4 4 0 01-8 0m8 0V5a4 4 0 00-8 0v2m8 0v2a4 4 0 01-8 0V7"})]),f(" Send Data ")],-1)),e("button",{type:"button",onClick:t[5]||(t[5]=(...o)=>s(n).toggleMedicationModal&&s(n).toggleMedicationModal(...o)),class:"flex items-center gap-2 rounded-full bg-gray-200 text-gray-700 px-4 py-2 font-semibold shadow hover:bg-gray-300 transition"},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),f(" Cancel ")]))])],32)])]),_:1},8,["show","onClose"])]),_:1})],64))}};export{ne as default};
